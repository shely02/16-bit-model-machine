library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity pc is
 port(
      clk:in std_logic;
      LoadPC:in std_logic;
        IncPc:in std_logic;
      a:in std_logic_vector(15 downto 0);
      c:out std_logic_vector(15 downto 0));
end pc;

architecture aaa of pc is
 signal address:std_logic_vector(15 downto 0) :="0000000000000000";
 begin
   process(clk)
   begin
     if(clk'event and clk='0') then--clk为零
       if(IncPC='1' and LoadPC='0') then
         address<=address+"0000000000000001";--Inc为1，LoadPC为零，自加一
       elsif(IncPC='0' and LoadPC='1') then
         address<=a;--Inc为零，LoadPC为一，把a[15..0]传到c[15..0]
       end if;
     end if;
   end process;
 c<=address;
end aaa;